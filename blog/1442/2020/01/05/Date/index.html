<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"github.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1. UTC、GMT和时间戳介绍GMT格林尼治标准时间（Greenwich Mean Time）是指位于英国伦敦郊区的皇家格林尼治天文台的标准时间，即本初子午线时间。 由于地球在椭圆轨道里的运动速度不均匀，这个时刻可能与实际的太阳时有误差，所以有了UTC时间出现。 UTC协调世界时间（又称世界标准时间），与GMT一样都是本初子午时间，只不过UTC是经过协调后的世界时间，比GMT更加准确。全球一共有">
<meta property="og:type" content="article">
<meta property="og:title" content="Date">
<meta property="og:url" content="https://github.com/liututu1213/liututu1213.github.io/blog/1442/2020/01/05/Date/index.html">
<meta property="og:site_name" content="渣渣程序员">
<meta property="og:description" content="1. UTC、GMT和时间戳介绍GMT格林尼治标准时间（Greenwich Mean Time）是指位于英国伦敦郊区的皇家格林尼治天文台的标准时间，即本初子午线时间。 由于地球在椭圆轨道里的运动速度不均匀，这个时刻可能与实际的太阳时有误差，所以有了UTC时间出现。 UTC协调世界时间（又称世界标准时间），与GMT一样都是本初子午时间，只不过UTC是经过协调后的世界时间，比GMT更加准确。全球一共有">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/CathyLy/imageForSource/master/2020/timezone.png">
<meta property="og:image" content="https://raw.githubusercontent.com/liututu1213/imageForSource/master/2020/date-calender.png">
<meta property="article:published_time" content="2020-01-04T16:05:39.000Z">
<meta property="article:modified_time" content="2020-05-25T14:30:30.051Z">
<meta property="article:author" content="liututu1213">
<meta property="article:tag" content="liu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/CathyLy/imageForSource/master/2020/timezone.png">

<link rel="canonical" href="https://github.com/liututu1213/liututu1213.github.io/blog/1442/2020/01/05/Date/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Date | 渣渣程序员</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="渣渣程序员" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">渣渣程序员</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/liututu1213/liututu1213.github.io/blog/1442/2020/01/05/Date/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="liututu1213">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="渣渣程序员">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Date
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-05 00:05:39" itemprop="dateCreated datePublished" datetime="2020-01-05T00:05:39+08:00">2020-01-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-05-25 22:30:30" itemprop="dateModified" datetime="2020-05-25T22:30:30+08:00">2020-05-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/swift/" itemprop="url" rel="index"><span itemprop="name">swift</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="1-UTC、GMT和时间戳介绍"><a href="#1-UTC、GMT和时间戳介绍" class="headerlink" title="1. UTC、GMT和时间戳介绍"></a>1. UTC、GMT和时间戳介绍</h4><h5 id="GMT"><a href="#GMT" class="headerlink" title="GMT"></a>GMT</h5><p>格林尼治标准时间（Greenwich Mean Time）是指位于英国伦敦郊区的皇家格林尼治天文台的标准时间，即本初子午线时间。</p>
<p>由于地球在椭圆轨道里的运动速度不均匀，这个时刻可能与实际的太阳时有误差，所以有了UTC时间出现。</p>
<h5 id="UTC"><a href="#UTC" class="headerlink" title="UTC"></a>UTC</h5><p>协调世界时间（又称世界标准时间），与GMT一样都是本初子午时间，只不过UTC是经过协调后的世界时间，比GMT更加准确。全球一共有24个时区。</p>
<p><img src="https://raw.githubusercontent.com/CathyLy/imageForSource/master/2020/timezone.png" srcset="/img/loading.gif" alt="timezone"></p>
<p>而北京时间位于东八区，与格林尼治时间相差八小时，也就是我们经常在开发中遇到8小时时差的问题。</p>
<h4 id="2-swift中Date与Calender关系"><a href="#2-swift中Date与Calender关系" class="headerlink" title="2. swift中Date与Calender关系"></a>2. swift中Date与Calender关系</h4><p><img src="https://raw.githubusercontent.com/liututu1213/imageForSource/master/2020/date-calender.png" srcset="/img/loading.gif" alt=""></p>
<p>首先Date可以通过DateFormatter进行互转，Date通过格式化可以转化成自定义的样式，反过来同样成立。在iOS中，没办法像其他语言一样直接time.year这样的api获取年份等信息，想要获取Date的年月日信息需要使用Calende+DateCompontents来完成，反之，也可以通过DateComponents对各个组件进行组装，通过Calender对象变成date。</p>
<p>Calender封装了有关计算时间的系统的信息，其中定义了年的开始、长度和分割，提供了关于日历的信息和日历计算的支持。</p>
<h4 id="3-Date"><a href="#3-Date" class="headerlink" title="3. Date"></a>3. Date</h4><p>iOS中的Date是用来表示公历的GMT时间，Date是没有存储时区等信息，所以不管你在哪个时区打印的Date()都是一样的，这一点非常重要。</p>
<pre><code class="swift">let date = Date()
print(date)</code></pre>
<p>打印结果：</p>
<pre><code>2020-01-04 10:03:01 +0000</code></pre><p>Date()获取的是零时区的时间(格林尼治的时间)，而如果你系统所在的时区是东八区即北京时间，则实际系统时间与打印出来的时间相差八小时。</p>
<p>Date的初始化方法：</p>
<pre><code class="Swift">public init()
public init(timeIntervalSinceNow: TimeInterval) //以当前时间的偏移秒数来初始化
public init(timeIntervalSince1970: TimeInterval) //以GMT时间的偏移秒数来初始化
public init(timeInterval: TimeInterval, since date: Date) //以给定秒数返回相对于另一个给定日期初始化的“日期”
...</code></pre>
<p>时间比较相关方法：</p>
<pre><code class="Swift">public func compare(_ other: Date) -&gt; ComparisonResult
public static func == (lhs: Date, rhs: Date) -&gt; Bool
public static func &lt; (lhs: Date, rhs: Date) -&gt; Bool
public static func &gt; (lhs: Date, rhs: Date) -&gt; Bool
public static func + (lhs: Date, rhs: TimeInterval) -&gt; Date
...</code></pre>
<h5 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h5><p>时间戳是指1970-01-01 00:00:00到当前时间的秒数。</p>
<pre><code>date.timeIntervalSince1970 
date.timeIntervalSinceNow
date.timeIntervalSince(xx)</code></pre><h4 id="4-DateFormatter-Date-与String-互相转换"><a href="#4-DateFormatter-Date-与String-互相转换" class="headerlink" title="4. DateFormatter: Date 与String 互相转换"></a>4. DateFormatter: Date 与String 互相转换</h4><p>DateFormatter 是Formatter的子类，Formatter是将数据在字符串与特定类型的对象之间转换，目前Formatter有两个子类NumberFormatter和DateFormatter。</p>
<p>DateFormatter用来在日期和字符串之间的转换，DateFormatter格式其实是遵守了Unicode Technical Standard。</p>
<pre><code class="swift">open var dateFormat: String!
open var dateStyle: DateFormatter.Style
open var timeStyle: DateFormatter.Style
open var locale: Locale!
open var timeZone: TimeZone!
open var calendar: Calendar! //如果未指定则使用当前用户的逻辑日历</code></pre>
<p>下面将会来一一介绍这些相关的属性。</p>
<p>DateFormatter提供了许多定义好的时间格式，如dateStyle和timeStyle。</p>
<pre><code class="swift">public enum Style : UInt {
    case none
    case short
    case medium
    case long
    case full
}</code></pre>
<table>
<thead>
<tr>
<th align="center">格式类型</th>
<th align="center">dateStyle</th>
<th align="center">timeStyle</th>
</tr>
</thead>
<tbody><tr>
<td align="center">none</td>
<td align="center">/</td>
<td align="center">/</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">1/4/20</td>
<td align="center">7:37 PM</td>
</tr>
<tr>
<td align="center">medium</td>
<td align="center">Jan 4, 2020</td>
<td align="center">7:38:51 PM</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">January 4, 2020</td>
<td align="center">7:39:50 PM GMT+8</td>
</tr>
<tr>
<td align="center">full</td>
<td align="center">Saturday, January 4, 2020</td>
<td align="center">7:40:40 PM China Standard Time</td>
</tr>
</tbody></table>
<p>DateFormatter有一个local的属性，Local是与国际化相关的基础类。</p>
<h4 id="5-Local"><a href="#5-Local" class="headerlink" title="5. Local"></a>5. Local</h4><p>Local是是与国际化相关的基础类，在OS X中，可以到”系统偏好设置-&gt;语言与地区”中设置当前的local。Local是包含所有地区的语言与文化习俗的基础类，一个Local实例包含了针对这个地区内特定一群人的所有语言文化基准，其中包括：</p>
<ul>
<li>语言</li>
<li>键盘</li>
<li>数字、日期和时间格式</li>
<li>货币  如USD</li>
<li>排序和分类</li>
<li>符号、颜色与头像的使用</li>
</ul>
<p>每一个Local的实例对应着一个地区标识符，如en_US、zh_CN等，这些标识符包含 语言码(en)和地区码(US)。</p>
<pre><code class="swift">Locale.preferredLanguages //返回用户偏好设置的语言列表</code></pre>
<h4 id="6-TimeZone"><a href="#6-TimeZone" class="headerlink" title="6. TimeZone"></a>6. TimeZone</h4><p>TimeZone表示时区信息，上面提到过世界上有24是个时区，任何时区都是GMT为基准，TimeZone对象所代表的时区都是相对于GMT的。</p>
<pre><code class="swift">public static var current: TimeZone { get }
public init?(identifier: String) //用给定的标识符初始化timeZone对象
public init?(secondsFromGMT seconds: Int) //通过相对于GMT时间偏移量(时差)来获取时区</code></pre>
<p>一般应用程序的默认时区，是和手机系统设置的时区一致的。</p>
<pre><code>TimeZone.current</code></pre><p>打印结果如下：</p>
<pre><code>▿ Asia/Shanghai (current)
  - identifier : &quot;Asia/Shanghai&quot;
  - kind : &quot;current&quot;
  ▿ abbreviation : Optional&lt;String&gt;
    - some : &quot;GMT+8&quot;
  - secondsFromGMT : 28800 //相对于GMT的时差 秒
  - isDaylightSavingTime : false</code></pre><h4 id="7-DateComponents"><a href="#7-DateComponents" class="headerlink" title="7. DateComponents"></a>7. DateComponents</h4><p>这个类可用于计算未来或过去的日期，Calender用它来实现Date和DateComponents相互转换</p>
<h4 id="8-Calendar"><a href="#8-Calendar" class="headerlink" title="8. Calendar"></a>8. Calendar</h4><p>在iOS中，没办法像其他语言一样直接time.year这样的api获取年份等信息，想要获取Date的年月日需要使用Calender的日历对象。Calender封装了有关计算时间的系统的信息，其中定义了年的开始、长度和分割，提供了关于日历的信息和日历计算的支持。</p>
<pre><code class="swift">public static var current: Calendar { get }
public static var autoupdatingCurrent: Calendar { get } //当前系统设置的日历的值
public init(identifier: Calendar.Identifier) //Identifier 是一个枚举，提供了各种类型的日历
public func component(_ component: Calendar.Component, from date: Date) -&gt; Int //返回一个给定date的日期组件</code></pre>
<p>先来介绍Calender的相关的api</p>
<h5 id="8-1-Calendar-Identifier"><a href="#8-1-Calendar-Identifier" class="headerlink" title="8.1  Calendar.Identifier"></a>8.1  Calendar.Identifier</h5><pre><code class="swift">public enum Identifier {
    case gregorian //公历 Calender的默认值
    case buddhist
    case chinese //农历
    case coptic
    case ethiopicAmeteMihret
    case ethiopicAmeteAlem
    case hebrew
    case iso8601
    case indian
    case islamic
    case islamicCivil
    case japanese
    case persian
    case republicOfChina
}</code></pre>
<h5 id="8-2-Calendar-Component"><a href="#8-2-Calendar-Component" class="headerlink" title="8.2 Calendar.Component"></a>8.2 Calendar.Component</h5><pre><code class="swift">public enum Component {
    case era // 特定时期的时代，取决于日期的日历系统
    case year
    case month
    case day
    case hour
    case minute
    case second
    case weekday //星期几，默认情况下周日为1，周一为2，以此类推
    case weekdayOrdinal //表示指定日期是当前这个月的第几个星期几，如2020-02-13，星期四，是这个月的第2个星期四
    case quarter //返回季度单位的数字，但不同地区季度的起始时间不同，因此此属性默认是0，除非赋值。
    case weekOfMonth //Identifier for the week of the month calendar unit.
    case weekOfYear// Identifier for the week of the year unit.
    case yearForWeekOfYear //Identifier for the week-counting year unit.
    case nanosecond
    case calendar
    case timeZone
}</code></pre>
<p>Date类是无法单独来获取每一个元素的信息，必须使用component方法获取给定日期的日期组件即Calendar.Component，获取某个时间点对应的”年”、”月”、”日”、”第几周”、”周几”等信息。</p>
<h5 id="8-3-Calender相关函数"><a href="#8-3-Calender相关函数" class="headerlink" title="8.3 Calender相关函数"></a>8.3 Calender相关函数</h5><p><code>public func minimumRange(of component: Calendar.Component) -&gt; Range&lt;Int&gt;?</code></p>
<pre><code class="swift">let calendar = Calendar.current
let range = calendar.minimumRange(of: .day)
print(range) //Range(1..&lt;29)</code></pre>
<p>返回指定组件最小的限制范围，如Day Components 最小的范围是1-28</p>
<p><code>public func maximumRange(of component: Calendar.Component) -&gt; Range&lt;Int&gt;?</code></p>
<pre><code class="swift">let calendar = Calendar.current
let range = calendar.maximumRange(of: .day)
print(range) // Range(1..&lt;32)</code></pre>
<p>date所在的小组件在 大组件里的范围。</p>
<p><code>public func range(of smaller: Calendar.Component, in larger: Calendar.Component, for date: Date) -&gt; Range&lt;Int&gt;?</code></p>
<pre><code class="swift">let date = Date() ///&quot;Feb 14, 2020 at 1:10 AM&quot;
let calendar = Calendar.current
let range = calendar.range(of: .day, in: .month, for: date)
print(range) /// Range(1..&lt;30)</code></pre>
<p>返回指定日期所在的小组件在大组件的一个时间范围。</p>
<p><code>public func dateInterval(of component: Calendar.Component, start: inout Date, interval: inout TimeInterval, for date: Date) -&gt; Bool</code></p>
<pre><code class="swift">let date = Date() ///Feb 14, 2020 at 1:14 AM
let calendar = Calendar.current
var d: Date = Date()
var time: Double = 0

/// 当前时间所在的一周的开始时间，周日为每周的开始时间
calendar.dateInterval(of: .weekOfMonth, start: &amp;d, interval: &amp;time, for: date)
print(d)
print(time)</code></pre>
<p>打印结果：</p>
<pre><code>2020-02-08 16:00:00 +0000
604800.0</code></pre><p>通过两个inout参数返回包含给定日期、组件的开始时间和时间长。</p>
<p><code>public func ordinality(of smaller: Calendar.Component, in larger: Calendar.Component, for date: Date) -&gt; Int?</code></p>
<p> 返回指定的日期 指定的较小日历组件(Day)在较大日历组件(weekOfMonth) 的序号。</p>
<p><code>public func date(byAdding components: DateComponents, to date: Date, wrappingComponents: Bool = false) -&gt; Date?</code></p>
<pre><code class="swift">let date = Date() ///2020-02-13 17:29:35 +0000
let calendar = Calendar.current
var dateComponets = DateComponents()
dateComponets.day = 18
let day = calendar.date(byAdding: dateComponets, to: date)!
print(day) 2020-03-02 17:29:35 +0000

let day2 = calendar.date(byAdding: dateComponets, to: date, wrappingComponents: true)!
print(day2) ///2020-02-02 17:29:35 +0000</code></pre>
<p>向给定日期添加组件计算出新的日期，其中<code>wrappingComponents</code>为true表示组件在增加的时候溢出时，不是向更高的组件”进位”</p>
<p><code>public func date(from components: DateComponents) -&gt; Date?</code></p>
<p>用指定的DateComponents创建一个新的日期，如果匹配不到组件的日期，则返回nil。</p>
<pre><code class="swift">public func dateComponents(_ components: Set&lt;Calendar.Component&gt;, from date: Date) -&gt; DateComponents
public func dateComponents(in timeZone: TimeZone, from date: Date) -&gt; DateComponent</code></pre>
<p>返回这个日历时区所有的日历组件，第一个是传入指定的Calendar.Component数组，第二个是传入TimeZone</p>
<pre><code class="swift">public func dateComponents(_ components: Set&lt;Calendar.Component&gt;, from start: Date, to end: Date) -&gt; DateComponents

public func dateComponents(_ components: Set&lt;Calendar.Component&gt;, from start: DateComponents, to end: DateComponents) -&gt; DateComponents</code></pre>
<pre><code>public func component(_ component: Calendar.Component, from date: Date) -&gt; Int</code></pre><pre><code class="swift">let date = Date() //2020-02-15 07:14:06 +0000
let calendar = Calendar.current
let startOfDay = calendar.startOfDay(for: date)
print(startOfDay) //2020-02-14 16:00:00 +0000</code></pre>
<p>返回给定日期的第一个时刻。</p>
<pre><code class="swift">public func compare(_ date1: Date, to date2: Date, toGranularity component: Calendar.Component) -&gt; ComparisonResult
public func isDate(_ date1: Date, equalTo date2: Date, toGranularity component: Calendar.Component) -&gt; Bool </code></pre>
<p>component用于比较的粒度，如.hour 判断两个日期是否在相同的小时内。</p>
<pre><code class="swift">public func isDate(_ date1: Date, inSameDayAs date2: Date) -&gt; Bool
public func isDateInToday(_ date: Date) -&gt; Bool
public func isDateInYesterday(_ date: Date) -&gt; Bool
public func isDateInTomorrow(_ date: Date) -&gt; Bool
public func isDateInWeekend(_ date: Date) -&gt; Bool</code></pre>
<pre><code>public func dateIntervalOfWeekend(containing date: Date) -&gt; DateInterval?</code></pre><p>使用Calender和Components对Date进行的扩展：</p>
<pre><code class="swift">extension Date {
     var startOfWeek: Date {
        var calendar = Calendar.current
        let component = calendar.dateComponents([.yearForWeekOfYear, .weekOfYear, .hour], from: self)
        calendar.firstWeekday = 2
        return calendar.date(from: component)!
    }

    var startOfCurrentMonth: Date {
         let calendar = NSCalendar.current
         let components = calendar.dateComponents([.year, .month, .hour], from: self)
         let startOfMonth = calendar.date(from: components)!
         return startOfMonth
     }
}</code></pre>
<p>startOfWeek获取一周开始的日期，<code>calendar.firstWeekday = 2</code>用于设置一周从周一开始算起；startOfCurrentMonth获取当前日期所在的月开始时间。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/liu/" rel="tag"># liu</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/4809/2019/12/31/PromiseKit/" rel="prev" title="PromiseKit">
      <i class="fa fa-chevron-left"></i> PromiseKit
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/6648/2020/01/18/Ruby%E5%9F%BA%E7%A1%80/" rel="next" title="Ruby基础">
      Ruby基础 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-UTC、GMT和时间戳介绍"><span class="nav-number">1.</span> <span class="nav-text">1. UTC、GMT和时间戳介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#GMT"><span class="nav-number">1.1.</span> <span class="nav-text">GMT</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UTC"><span class="nav-number">1.2.</span> <span class="nav-text">UTC</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-swift中Date与Calender关系"><span class="nav-number">2.</span> <span class="nav-text">2. swift中Date与Calender关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Date"><span class="nav-number">3.</span> <span class="nav-text">3. Date</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#时间戳"><span class="nav-number">3.1.</span> <span class="nav-text">时间戳</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-DateFormatter-Date-与String-互相转换"><span class="nav-number">4.</span> <span class="nav-text">4. DateFormatter: Date 与String 互相转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-Local"><span class="nav-number">5.</span> <span class="nav-text">5. Local</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-TimeZone"><span class="nav-number">6.</span> <span class="nav-text">6. TimeZone</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-DateComponents"><span class="nav-number">7.</span> <span class="nav-text">7. DateComponents</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-Calendar"><span class="nav-number">8.</span> <span class="nav-text">8. Calendar</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-Calendar-Identifier"><span class="nav-number">8.1.</span> <span class="nav-text">8.1  Calendar.Identifier</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-2-Calendar-Component"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 Calendar.Component</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-3-Calender相关函数"><span class="nav-number">8.3.</span> <span class="nav-text">8.3 Calender相关函数</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">liututu1213</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">liututu1213</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
